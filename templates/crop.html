{% extends "layout.html" %}
{% block title %} Cropping "{{ art["title"] }}" {% endblock %}
{% block head %}
<script src="/static/js/lib/jquery.Jcrop.min.js"></script>
<script src="/static/js/crop.js"></script>
<link rel="stylesheet" href="/static/css/jquery.Jcrop.css" type="text/css">
<link rel="stylesheet" href="/static/css/gallery.css" media="screen" type="text/css">
<style>
#preview_container {
	overflow: hidden;
	margin-left: auto; margin-right: auto;
	width: 135px;
	height: 110px;
	border: solid 1px;
	-moz-box-shadow: 3px 3px 5px #888;
	-webkit-box-shadow: 3px 3px 5px #888;
	box-shadow: 3px 3px 5px #888
}
#left_col
{
	width: 20%;
}
#right_col
{
	float: right;
	width: 80%;
}
</style>
{% endblock %}
{% block content %}
  <section class="container" style="text-align:center;">
    <h1>Crop Artwork</h1>
    <p>Click and drag out the area that you would like to appear as the thumbnail for your artwork. </p>
  </section>
  <div id = "right_col">
    <section class="container" style="overflow: auto;">
      <img src="/art/uploads/{{ art["_id"] }}.{{ art["filetype"] }}" id="art">
    </section>
  </div>
  <div id = "left_col">
    <section class="container" style="text-align:center;">
      <h1>Preview</h1>
      <div id="preview_container">
        <img src="/art/uploads/{{ art["_id"] }}.{{ art["filetype"] }}" id="preview" class="gallery_thumb">
      </div>
    </section>
    <section class="container" style="text-align:center;">
      <form method="POST">
        <input type="hidden" id="x" name="x">
        <input type="hidden" id="y" name="y">
        <input type="hidden" id="w" name="w">
        <input type="hidden" id="h" name="h">
        <input type="submit" value="Submit Thumbnail" class="button">
      </form>
    </section>
    <aside class="modal">
      <aside id="crop_loading_modal" style="margin-top: 19%; margin-left: auto; margin-right: auto; z-index:10000;">
        <b>CROPPING THUMBNAIL</b><br>
        <img src="/static/images/loader.gif" alt="LOADING">
      </aside>
    </aside>
  </div>
{% endblock %}
