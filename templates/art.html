{% extends "layout.html" %}
{% block title %}{{ art["title"] }} by {{ art["author"] }}{% endblock %}
{% block head %}
<script src="/static/js/art.js"></script>
<style>
#favButton { cursor: pointer;}
#watchButton { cursor: pointer;}
</style>
{% endblock %}
{% block content %}
  <span id="artID" data-state="{{ art["_id"] }}"></span>
  <span id="author" data-name="{{ art["author"] }}"></span>
  <section class="container" style="text-align:center;overflow:auto;">
    <div id="previewText"></div>
    <img src="/art/uploads/{{ art["_id"] }}.{{ art["filetype"] }}" alt='' id="art" data-type="{{ art["type"] }}" data-size="small">
  </section>
  <section class="container" style="margin-left: 20%; margin-right: 20%;">
    <div style="float:left;height:100%;margin-right:5px;">
      {{ userIcon(art["author"]) }}
    </div>
    <strong>{{ art["title"] }}</strong>
    <div style="margin-left:85px;">
      {{ art["description"] }}
    </div>
    <div style="clear:both;"></div>
    {% if loggedInUser %}{% if loggedInUser["_id"] != author["_id"] %}
      {% if util.inList(g.loggedInUser["username"],art["favorites"]) %}{% set fav="unfav" %}{% else %}{% set fav="fav" %}{% endif %}
      <img src="{% if fav=="fav" %}/static/images/favoritebutton.png{% else %}/static/images/unfavoritebutton.png{% endif %}" id="favButton" data-state="{{ fav }}" alt="Favorite Button">
      {% if util.inList(g.loggedInUser["username"],author["watchers"]) %}{% set watch="unwatch" %}{% else %}{% set watch="watch" %}{% endif %}
      <img src="{% if watch=="watch" %}/static/images/watchbutton.png{% else %}/static/images/unwatchbutton.png{% endif %}" id="watchButton" data-state="{{ watch }}" alt="Watch Button">
    {% endif %}{% endif %}

    <div id="views">Views: {{ art["views"] }}</div>
    <div id="favorites">Favorites: {{ art["favAmount"] }}</div>

  </section>
{% endblock %}
